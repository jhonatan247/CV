!function(l){"use strict";l.fn.multipleFilterMasonry=function(n){var r=[],c=[];"list"===n.selectorType&&l(n.filtersGroupSelector).children().each(function(){c.push(l(this).data("filter"))});var s=function(e){var n=[];return l(r).each(function(i){l(e).each(function(e,t){r[i].is(t)&&-1===l.inArray(r[i],n)&&n.push(r[i])})}),n},a=function(e,t){e.empty(),l(t).each(function(){l(e).append(l(this))}),e.masonry("reloadItems"),e.masonry()},o=function(i){var e,t;l(n.filtersGroupSelector).children().each(function(){l(this).click(function(){l(n.filtersGroupSelector).children().removeClass("selected"),window.location.hash=l(this).data("filter");var e=[];e.push("."+l(this).data("filter")),l(this).addClass("selected");var t=r;0<e.length&&(t=s(e)),a(i,t)})}),e=i,t=window.location.hash.replace("#",""),-1!==l.inArray(t,c)&&a(e,l("."+t)),l(n.filtersGroupSelector).children().removeClass("selected"),l(".filters li[data-filter="+window.location.hash.replace("#","")+"]").addClass("selected")};return this.each(function(){var e,i,t=l(this);(e=t).find(n.itemSelector).each(function(){r.push(l(this))}),e.masonry(n),"list"===n.selectorType?o(t):(i=t,l(n.filtersGroupSelector).find("input[type=checkbox]").each(function(){l(this).change(function(){var e=[];l(n.filtersGroupSelector).find("input[type=checkbox]").each(function(){l(this).is(":checked")&&e.push("."+l(this).val())});var t=r;0<e.length&&(t=s(e)),a(i,t)})}))})}}(window.jQuery);